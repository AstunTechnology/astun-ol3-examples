<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>OpenLayers - iShare Lite</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ol3/4.0.1/ol.css" />
    <link rel="stylesheet" href="https://rawgit.com/walkermatt/ol-popup/master/src/ol-popup.css" />
    <link rel="stylesheet" href="https://rawgit.com/walkermatt/ol3-layerswitcher/master/src/ol3-layerswitcher.css" />
    <link rel="stylesheet" href="ishare_lite.css" />
  </head>
  <body>
    <div id="map">
    </div>
    <script src="bundle.js"></script>
    <script>

        // Expose OpenLayers to support plugins that expect to find a global ol
        // Object
        window.ol = iShare.deps.ol;

        var lite = iShare.liteMap({
            'target': 'map',
            'iShareUrl': 'https://maps.astuntechnology.com/iShareLive.Web/',
            'profile': 'mapsources/default',
            'layers': 'Wards_OGC,Primary_Schools_OGC,Secondary_Schools_OGC',
            'view': {
                easting: 521000,
                northing: 161000,
                zoom: 10000
            },
            plugins: [new iShare.plugins.InfoPopup()]
        }, function(err, lite) {
            console.log(lite);

            // Add a layer list
            var layerSwitcher = new ol.control.LayerSwitcher();
            lite.map.addControl(layerSwitcher);

            // Add the info popup plugin manually
            // lite.addPlugin(new iShare.plugins.InfoPopup());
            // Add a global reference for debugging
            window.lite = lite;
        });

    </script>
    <script src="https://rawgit.com/walkermatt/ol3-layerswitcher/master/src/ol3-layerswitcher.js"></script>
  </body>
</html>
